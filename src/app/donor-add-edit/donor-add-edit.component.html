<div class="page-container">
    <header class="page-header">
        <h1><b>{{isEditMode?"捐款者修改":"捐款者添加"}}</b></h1>
    </header>
    <div class="form-wrapper">
        <form [formGroup]="donorForm" class="donor-form">
            <div class="form-row">
                <mat-form-field appearance="outline" class="input-item">
                    <mat-label>身份證字號:</mat-label>
                    <input matInput type="text" placeholder="請輸入身份證字號" formControlName="donor_id"
                        [readonly]="isEditMode" />
                    <button *ngIf="isEditMode" mat-icon-button matSuffix disabled>
                        <mat-icon>lock</mat-icon>
                    </button>
                </mat-form-field>
            </div>

            <div class="form-row">
                <mat-form-field appearance="outline" class="input-item">
                    <mat-label>姓名:</mat-label>
                    <input matInput type="text" placeholder="請輸入姓名" formControlName="donor_name" />
                </mat-form-field>
                <mat-checkbox class="checkbox" formControlName="first">第一次捐款</mat-checkbox>
            </div>

            <div class="form-row">
                <mat-form-field appearance="outline" class="input-item">
                    <mat-label>居住地址:</mat-label>
                    <input matInput type="text" placeholder="請輸入居住地址" formControlName="addr_h" />
                </mat-form-field>
                <mat-checkbox class="checkbox" formControlName="send_journal">郵寄刊物</mat-checkbox>
            </div>

            <div class="form-row">
                <mat-form-field appearance="outline" class="input-item">
                    <mat-label>公司:</mat-label>
                    <input matInput type="text" placeholder="請輸入公司名稱" formControlName="company" />
                </mat-form-field>
                <mat-checkbox class="checkbox" formControlName="taiwan">是否居住台灣</mat-checkbox>
            </div>

            <div class="form-row">
                <mat-form-field appearance="outline" class="input-item">
                    <mat-label>公司地址:</mat-label>
                    <input matInput type="text" placeholder="請輸入公司地址" formControlName="addr_o" />
                </mat-form-field>
            </div>

            <div class="form-row">
                <mat-form-field appearance="outline" class="input-item">
                    <mat-label>家裡電話:</mat-label>
                    <input matInput type="tel" placeholder="請輸入家裡電話" formControlName="tel_h" />
                </mat-form-field>
                <mat-form-field appearance="outline" class="input-item">
                    <mat-label>公司電話:</mat-label>
                    <input matInput type="tel" placeholder="請輸入公司電話" formControlName="tel_o" />
                </mat-form-field>
            </div>

            <div class="form-row">
                <mat-form-field appearance="outline" class="input-item">
                    <mat-label>手機:</mat-label>
                    <input matInput type="tel" placeholder="請輸入手機號碼" formControlName="m_phone" />
                </mat-form-field>
                <mat-form-field appearance="outline" class="input-item">
                    <mat-label>Email:</mat-label>
                    <input matInput type="email" placeholder="請輸入Email" formControlName="email" />
                </mat-form-field>
            </div>

            <!-- heckbox -->
            <div class="form-row checkbox-label">
                <mat-checkbox formControlName="autoFillReceipt" (change)="onAutoFillChange($event)">
                    自動填入捐款者資訊至收據者欄位
                </mat-checkbox>
            </div>

            <div class="form-row">
                <mat-form-field appearance="outline" class="input-item">
                    <mat-label>收據者身份證字號:</mat-label>
                    <input matInput type="text" placeholder="請輸入收據者身份證字號" formControlName="receipt_id" />
                </mat-form-field>
                <mat-form-field appearance="outline" class="input-item">
                    <mat-label>收據者Title:</mat-label>
                    <input matInput type="text" placeholder="請輸入收據者抬頭" formControlName="receipt_title" />
                </mat-form-field>
            </div>

            <div class="form-row">
                <mat-form-field appearance="outline" class="input-item">
                    <mat-label>收據者地址:</mat-label>
                    <input matInput type="text" placeholder="請輸入收據者地址" formControlName="receipt_addr" />
                </mat-form-field>
            </div>

            <div class="form-row">
                <mat-form-field appearance="outline" class="input-item">
                    <mat-label>備註:</mat-label>
                    <textarea matInput rows="3" placeholder="請輸入備註" formControlName="memo"></textarea>
                </mat-form-field>
            </div>
        </form>
    </div>
    <footer class="form-actions">
        <button mat-raised-button color="primary" type="submit" (click)="onSubmit()">
            {{ isEditMode ? '修改' : '新增' }}
        </button>
        <button mat-raised-button type="button" color="warn" (click)="cancel()">取消</button>
    </footer>
</div>